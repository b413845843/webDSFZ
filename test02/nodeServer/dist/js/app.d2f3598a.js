(function(e){function t(t){for(var a,s,i=t[0],l=t[1],c=t[2],d=0,p=[];d<i.length;d++)s=i[d],o[s]&&p.push(o[s][0]),o[s]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);u&&u(t);while(p.length)p.shift()();return r.push.apply(r,c||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],a=!0,i=1;i<n.length;i++){var l=n[i];0!==o[l]&&(a=!1)}a&&(r.splice(t--,1),e=s(s.s=n[0]))}return e}var a={},o={app:0},r=[];function s(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=a,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(n,a,function(t){return e[t]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var u=l;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var a=n("64a9"),o=n.n(a);o.a},"0f1c":function(e,t,n){},"192e":function(e,t,n){},"2fb9":function(e,t,n){},3026:function(e,t,n){e.exports=n.p+"img/error-401.98bba5b1.svg"},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("097d");var a=n("ba4c"),o=n.n(a),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("transition",{attrs:{name:"fade",mode:"out-in"}},[n("router-view")],1)],1)},s=[],i={name:"App"},l=i,c=(n("034f"),n("2877")),u=Object(c["a"])(l,r,s,!1,null,null,null);u.options.__file="App.vue";var d=u.exports,p=(n("7f7f"),n("8c4f")),m=n("323e"),f=n.n(m),g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Layout",{staticStyle:{height:"100%"}},[n("Sider",{attrs:{breakpoint:"md",width:220,collapsible:"","hide-trigger":"","collapsed-width":78},model:{value:e.isCollapsed,callback:function(t){e.isCollapsed=t},expression:"isCollapsed"}},[n("left-nav",{class:e.menuitemClasses})],1),n("Layout",[n("Header",{staticClass:"layout",staticStyle:{padding:"0",width:"100%","z-index":"10000",backgroundColor:"#FFF"}},[n("top-header",{attrs:{collapsed:e.isCollapsed,icon:e.icon},on:{"on-change":e.handleCollpasedChange}},[n("user")],1)],1),n("Layout",{staticStyle:{padding:"20px",overflow:"auto"}},[n("Content",[n("router-view")],1)],1)],1),n("BackTop")],1)},h=[],v=(n("28a5"),n("0f1c"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"header"},[n("a",{class:["sider-trigger-a",e.collapsed?"collapsed":""],attrs:{type:"text"},on:{click:e.handleChange}},[n("Icon",{attrs:{type:e.icon,size:e.size}})],1),n("div",{staticClass:"custom-content-con"},[e._t("default")],2)])}),b=[],_=(n("c5f6"),n("6568"),{name:"TopHeader",props:{collapsed:Boolean,icon:{type:String,default:"ios-arrow-back"},size:{type:Number,default:26}},methods:{handleChange:function(){this.$emit("on-change",!this.collapsed)}}}),w=_,y=Object(c["a"])(w,v,b,!1,null,null,null);y.options.__file="topHeader.vue";var k=y.exports,C=k,x=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._m(0),n("Menu",{attrs:{"active-name":"1-2",theme:"dark",width:"auto","open-names":["1"]}},[n("Submenu",{attrs:{name:"1"}},[n("template",{slot:"title"},[n("Icon",{attrs:{type:"ios-navigate"}}),e._v("\n      数据管理\n    ")],1),n("MenuItem",{attrs:{name:"1-1",to:"/home/"}},[e._v("打印机")])],2),n("Submenu",{attrs:{name:"2"}},[n("template",{slot:"title"},[n("Icon",{attrs:{type:"ios-keypad"}}),e._v("\n      ai\n    ")],1),n("MenuItem",{attrs:{name:"2-1"}},[n("router-link",{attrs:{to:"/foo"}},[e._v("foo")])],1),n("MenuItem",{attrs:{name:"2-2"}},[n("router-link",{attrs:{to:"/bar"}},[e._v("bar")])],1)],2),n("Submenu",{attrs:{name:"3"}},[n("template",{slot:"title"},[n("Icon",{attrs:{type:"ios-analytics"}}),e._v("\n      Item 3\n    ")],1),n("MenuItem",{attrs:{name:"3-1"}},[e._v("Option 1")]),n("MenuItem",{attrs:{name:"3-2"}},[e._v("Option 2")])],2)],1)],1)},D=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"layout-logo"},[a("img",{staticClass:"logo",attrs:{src:n("9743")}})])}],S=(n("6d5f"),{name:"LeftNav"}),I=S,M=Object(c["a"])(I,x,D,!1,null,null,null);M.options.__file="leftNav.vue";var O=M.exports,j=O,P=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"nameDiv"},[e._v("你好 "),n("span",{staticClass:"name"},[e._v(e._s(e.userName))])]),n("div",{staticClass:"user-dropList"},[n("Dropdown",{on:{"on-click":e.handleClick}},[n("Avatar",{attrs:{icon:"ios-person"}}),n("Icon",{attrs:{size:18,type:"md-arrow-dropdown"}}),n("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[n("DropdownItem",{attrs:{name:"logout"}},[e._v("退出登录")])],1)],1)],1)])},T=[],$=n("be94"),L=(n("192e"),n("2f62")),N={name:"User",computed:{userName:function(){return this.$store.state.user.userName}},methods:Object($["a"])({},Object(L["b"])(["handleLogout"]),{logout:function(){var e=this;this.handleLogout().then(function(){e.$router.push({name:"login"})})},handleClick:function(e){"logout"===e&&this.logout()}})},F=N,R=Object(c["a"])(F,P,T,!1,null,null,null);R.options.__file="user.vue";var E=R.exports,A=E,V={name:"MainLayout",components:{TopHeader:C,LeftNav:j,User:A},data:function(){return{transitionName:"slide-left",isCollapsed:!1,icon:"md-menu"}},beforeRouteUpdate:function(e,t,n){var a=e.path.split("/").length,o=t.path.split("/").length;this.transitionName=a<o?"slide-right":"slide-left",n()},computed:{menuitemClasses:function(){return["menu-item",this.isCollapsed?"collapsed-menu":""]}},methods:{handleCollpasedChange:function(e){this.isCollapsed=e}}},B=V,z=Object(c["a"])(B,g,h,!1,null,null,null);z.options.__file="mainLayout.vue";var W=z.exports,H=W,J=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Card",{attrs:{id:"printerInfo"}},[n("Row",{staticStyle:{"padding-bottom":"10px"}},[n("Button",{attrs:{type:"info"},on:{click:e.fetchData}},[n("Icon",{attrs:{type:"md-refresh",size:"16"}}),e._v(" 刷新列表\n    ")],1),n("Poptip",{staticStyle:{float:"right","margin-right":"10px"},attrs:{placement:"left"},on:{"on-popper-show":e.fetchVersion}},[n("Button",{attrs:{type:"text"}},[n("Icon",{attrs:{type:"md-information-circle",size:"14"}}),e._v(" 版本信息")],1),e.version?n("div",{staticClass:"versionSpan",attrs:{slot:"content"},slot:"content"},[n("p",[e._v("webVer : "+e._s(e.webVersion))]),n("p",[e._v(" dsPrnService : "+e._s(e.version.dsPrnService.Ver)+" ")]),n("p",[e._v("libdsDevJsLib.so : "+e._s(e.version.DevLib["libdsDevJsLib.so"].Ver)+" ")]),n("p",[e._v("libdsDevBmp.so : "+e._s(e.version.DevLib["libdsDevBmp.so"].Ver)+" ")])]):n("p",{attrs:{slot:"content"},slot:"content"},[e._v("获取数据...")]),e.versonFetching?n("Spin",{attrs:{size:"large",fix:""}}):e._e()],1)],1),n("Table",{attrs:{stripe:"",columns:e.tableCols,data:e.tableData,loading:e.tableLoading},on:{"on-filter-change":e.filterChange}}),n("Row",[n("Page",{staticStyle:{"margin-top":"10px"},attrs:{total:e.tableData.length,size:"small","show-elevator":"","show-sizer":""}})],1),n("node-view-modal",{attrs:{toShow:e.infoModal,nodes:e.infoNodes,number:e.currentNumber},on:{action:e.infoModalAction}}),n("config-view",{attrs:{show:e.showConfig,isLoading:e.isConfigLoading,json:e.configJson,number:e.currentNumber},on:{action:e.configAction,"get-config":e.fetchConfig}}),n("print-view",{attrs:{show:e.showPrint,number:e.currentNumber},on:{action:e.printAction}}),n("p",[e._v("getHello:"+e._s(e.helloStr))])],1)},q=[],U=(n("96cf"),n("1da1"));n("effb"),n("6b54");function G(e){var t=Array.isArray(e),n="[object Object]"===Object.prototype.toString.call(e);if(t){for(var a=[],o=0;o<e.length;o++)a[o]=G(e[o]);return a}if(n){var r={};for(var s in e)r[s]=G(e[s]);return r}return e}var K=n("bc3a"),X=n.n(K),Y=X.a.create({timeout:4e3}),Q=Y;Y.interceptors.response.use(function(e){var t=e.data;return{data:t}},function(e){if(e&&e.response)switch(e.response.status){case 400:e.message="请求无效";break;case 401:e.message="未授权，请重新登录";break;case 403:e.message="拒绝访问";break;case 404:e.message="请求错误,未找到该资源";break;case 405:e.message="请求方法未允许";break;case 408:e.message="请求超时";break;case 500:e.message="服务器端出错";break;case 501:e.message="网络未实现";break;case 502:e.message="网络错误";break;case 503:e.message="服务不可用";break;case 504:e.message="网络超时";break;case 505:e.message="http版本不支持该请求";break;default:e.message="连接错误".concat(e.response.status)}else e.message="连接到服务器失败";return Promise.reject(e.message)});var Z="http://120.197.55.79:30003/api",ee=Z+"/DeviceList",te=Z+"/DeviceInfo",ne=Z+"/Version",ae=Z+"/DeviceCfg",oe=Z+"/SubmitJob";function re(e){return Q({url:"".concat(oe),method:"post",data:JSON.stringify(e),headers:{"Content-Type":"application/json"},dataType:"json"})}function se(e){return Q({url:"".concat(ne,"?type=").concat(e),method:"get"})}function ie(e,t){return Q({url:"".concat(ae,"?number=").concat(e,"&type=").concat(t),method:"get"})}function le(){return Q({url:ee,method:"get"})}function ce(e,t){return Q({url:"".concat(te,"?number=").concat(e,"&type=").concat(t),method:"get"})}function ue(e){return Q({url:"http://localhost:3000/printerInfo",method:"post",data:e})}function de(e){return Q({url:"http://localhost:3000/printerInfo/".concat(e.id),method:"put",data:e})}var pe=n("53ca");n("ac6a");function me(e,t,n){var a;if(Array.isArray(e))a=[],e.forEach(function(e){var n=me(e,t,"");a.push(n)});else if("object"==Object(pe["a"])(e)&&void 0==e["DataType"]){var o,r;for(var s in e)e[s]["DataType"]?o="leaf":(o="item",r=s);if("item"===o)a={},a.index=t,a.type="item",a.name=r,a.nodes=[],me(e[r],t+1,a.nodes);else for(var i in e){a={},a.type="leaf",a.index=t,a.name=i,a.dataType=e[i]["DataType"];var l=e[i]["NodeVal"];if("list"===e[i]["DataType"]){var c=e[i]["ListVal"].split(";");a.value=c[l]}else a.value=l;n.push(a)}return a}return a}Node.prototype.log=function(){for(var e="> ",t=0;t<this.index;t++)e+="> ";"item"==this.type?(console.log(e+this.type+" "+this.name),this.nodes.forEach(function(e){e.log()})):console.log(e+"leaf "+this.name)};var fe="/api",ge=fe+"/hello";function he(){return Q({url:"".concat(ge),method:"get"})}var ve=["Ready","Busy","Warn","Error","None","Dead"];function be(){return{Number:Math.floor(2e4*Math.random()+1),Model:"DL-210",Status:ve[Math.floor(4*Math.random()+1)],Received:1234,Jobs:Math.floor(255*Math.random()+1),Ticks:Math.floor(50*Math.random()+1)}}var _e={name:"PrinterInfoView",data:function(){var e=this;return{tableCols:[{type:"selection",width:50,align:"center"},{type:"expand",width:50,render:function(e,t){return e("more-info-row",{props:{row:t.row}})}},{title:"设备编码",key:"Number",render:function(t,n){return t("a",{on:{click:function(){console.log("请求info 0 ".concat(n.row.Number)),e.fetchInfo(n.row.Number,0)}}},n.row.Number.toUpperCase())}},{title:"型号",key:"Model",render:function(t,n){return t("a",{on:{click:function(){console.log("请求info 1 ".concat(n.row.Number)),e.fetchInfo(n.row.Number,1)}}},n.row.Model)}},{title:"网络/状态",key:"Status",minWidth:80,render:function(t,n){return t("dot-link",{props:{click:function(){console.log("请求info 2 ".concat(n.row.Number)),e.fetchInfo(n.row.Number,2)},text:n.row.Status,type:n.row.Net}})}},{title:"接收缓存",key:"Received"},{title:"作业数",key:"Jobs"},{title:"心跳数",key:"Ticks"},{title:"操作",render:function(e,t){var n=this;return e("div",[e("a",{style:{marginRight:"20px",color:"#000"},on:{click:function(){console.log("index ".concat(t.index," number ").concat(t.row.Number)),n.showPrint=!0,n.currentNumber=t.row.Number}}},[e("Icon",{props:{type:"md-print",size:16}})]),e("a",{style:{marginRight:"20px",color:"#000"},on:{click:function(){console.log("index ".concat(t.index," number ").concat(t.row.Number)),n.currentNumber=t.row.Number,n.fetchConfig("WIFI")}}},[e("Icon",{props:{type:"md-hammer",size:16}})])])}.bind(this)}],infoRules:{Number:[{required:!0,message:"s",trigger:"blur"}],Model:[{required:!0,message:"s",trigger:"blur"}],Status:[{required:!0,message:"s",trigger:"blur"},{type:"enum",enum:["Ready","Busy","None"],trigger:"blur"}],Received:[{required:!0,message:"s",trigger:"blur"}],Jobs:[{required:!0,message:"s",trigger:"blur"}],Ticks:[{required:!0,message:"s",trigger:"blur"}]},tableData:[],tableLoading:!0,deleteModel:!1,editeModel:!1,addModel:!1,newInfo:{Number:"",Model:"",Status:"",Received:0,Jobs:0,Ticks:0},type:"",status:ve,version:null,versonFetching:!1,showConfig:!1,isConfigLoading:!1,configJson:{},currentNumber:"",showPrint:!1,isGettingPrinting:!1,filterValue:[],infoModal:!1,infoNodes:[],webVersion:"1.11.26.1",helloStr:""}},mounted:function(){var e=this;this.$Message.config({top:100,duration:2}),this.fetchData(),he().then(function(t){e.helloStr=t}).catch(function(t){e.$Message.error({content:"".concat(t)})})},methods:{configAction:function(e,t){"cancel"===e?this.showConfig=!1:this.isConfigLoading=t},printAction:function(e){"cancel"===e&&(this.showPrint=!1)},infoModalAction:function(){this.infoModal=!1},fetchVersion:function(){var e=Object(U["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.versonFetching=!0,this.version=null,e.next=4,se("json").then(function(e){t.version=e.data,console.log(e.data)}).catch(function(e){console.log("catch ".concat(e))});case 4:this.versonFetching=!1;case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),fetchConfig:function(){var e=Object(U["a"])(regeneratorRuntime.mark(function e(t){var n=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.showConfig=!0,this.isConfigLoading=!0,this.configJson=null,e.next=5,ie(this.currentNumber,t).then(function(e){n.configJson=e.data}).catch(function(e){console.log(e),n.$Message.error({content:"错误 : ".concat(e)})});case 5:console.log("stop loading"),setTimeout(function(){n.isConfigLoading=!1},50);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),fetchData:function(){var e=Object(U["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.tableLoading=!0,this.tableData=[],console.log("start fetch data"),e.next=5,le().then(function(e){t.tableData=e.data}).catch(function(e){console.log(e),t.$Message.error({content:"错误 : ".concat(e)}),t.tableData=[]});case 5:this.tableLoading=!1;case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),fetchInfo:function(){var e=Object(U["a"])(regeneratorRuntime.mark(function e(t,n){var a=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ce(t,n).then(function(e){var n=me(e.data);a.currentNumber=t,a.infoNodes=n,a.infoModal=!0}).catch(function(e){console.log(e),a.$Message.error({content:"错误 : ".concat(e)})});case 2:this.tableLoading=!1;case 3:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),showDeleteModal:function(e){this.deleteModel=!0},showAddModal:function(){this.newInfo=be(),this.type="add",this.addModel=!0},showEditModal:function(e){this.newInfo=G(e),this.type="edit",this.addModel=!0},handleSubmit:function(e){this.$refs[e].validate(function(){var e=Object(U["a"])(regeneratorRuntime.mark(function e(t){var n,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!t){e.next=16;break}if(this.$Message.info({content:"验证成功"}),"add"!==this.type){e.next=8;break}return e.next=5,ue(this.newInfo);case 5:n=e.sent,e.next=11;break;case 8:return e.next=10,de(this.newInfo);case 10:n=e.sent;case 11:a="add"===this.type?"添加":"编辑",void 0===n.data?this.$Message.error({content:"错误 : ".concat(err)}):(this.$Message.success({content:"".concat(a,"成功")}),this.fetchData()),this.addModel=!1,e.next=17;break;case 16:this.$Message.error({content:"验证失败"});case 17:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}().bind(this))},handleReset:function(e){this.$refs[e].resetFields()},filterChange:function(e){console.log(e)}}},we=_e,ye=Object(c["a"])(we,J,q,!1,null,null,null);ye.options.__file="printerInfoView.vue";var ke=ye.exports,Ce=ke,xe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("div",{staticClass:"card"},[n("Card",[n("h4",{attrs:{slot:"title"},slot:"title"},[e._v("欢迎登陆")]),n("login-form")],1)],1)])},De=[],Se=(n("f941"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("transition",{attrs:{name:"slide-fade",mode:"out-in"}},[e.isLogin?n("Form",{key:"1",ref:"loginForm",attrs:{model:e.user,rules:e.rules}},[n("FormItem",{attrs:{prop:"name"}},[n("Input",{attrs:{placeholder:"输入账户",clearable:""},model:{value:e.user.name,callback:function(t){e.$set(e.user,"name",t)},expression:"user.name"}},[n("span",{attrs:{slot:"prepend"},slot:"prepend"},[n("Icon",{attrs:{size:16,type:"ios-person"}})],1)])],1),n("FormItem",{attrs:{prop:"password"}},[n("Input",{attrs:{type:"password",placeholder:"密码",clearable:""},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}},[n("span",{attrs:{slot:"prepend"},slot:"prepend"},[n("Icon",{attrs:{size:14,type:"md-lock"}})],1)])],1),n("Button",{attrs:{type:"primary",loading:e.loginging,long:""},on:{click:e.login}},[e.loginging?n("span",[e._v("正在登录")]):n("span",[e._v("登录")])]),n("p",{staticClass:"login-tip"},[e._v("输入任意用户名和密码123即可")])],1):n("Form",{key:"2",ref:"registerForm",attrs:{model:e.ruser,rules:e.resigsterRules}},[n("FormItem",{attrs:{prop:"name"}},[n("Input",{attrs:{placeholder:"输入用户名",clearable:""},model:{value:e.ruser.name,callback:function(t){e.$set(e.ruser,"name",t)},expression:"ruser.name"}},[n("span",{attrs:{slot:"prepend"},slot:"prepend"},[n("Icon",{attrs:{size:16,type:"ios-person"}})],1)])],1),n("FormItem",{attrs:{prop:"password"}},[n("Input",{attrs:{placeholder:"密码",clearable:""},model:{value:e.ruser.password,callback:function(t){e.$set(e.ruser,"password",t)},expression:"ruser.password"}},[n("span",{attrs:{slot:"prepend"},slot:"prepend"},[n("Icon",{attrs:{size:14,type:"md-lock"}})],1)])],1),n("FormItem",{attrs:{prop:"passwordCheck"}},[n("Input",{attrs:{placeholder:"确认密码",clearable:""},model:{value:e.ruser.passwordCheck,callback:function(t){e.$set(e.ruser,"passwordCheck",t)},expression:"ruser.passwordCheck"}},[n("span",{attrs:{slot:"prepend"},slot:"prepend"},[n("Icon",{attrs:{size:16,type:"md-lock"}})],1)])],1),n("FormItem",{attrs:{prop:"email"}},[n("Input",{attrs:{placeholder:"邮件",clearable:""},model:{value:e.ruser.email,callback:function(t){e.$set(e.ruser,"email",t)},expression:"ruser.email"}},[n("span",{attrs:{slot:"prepend"},slot:"prepend"},[n("Icon",{attrs:{size:16,type:"ios-mail"}})],1)])],1),n("Button",{attrs:{type:"primary",long:""}},[e._v("注册")])],1)],1)],1)}),Ie=[],Me=(n("afa1"),{name:"LoginForm",data:function(){var e=function(e,t,n){""===t?n(new Error("请输入密码")):(""!==this.ruser.passwordCheck&&this.ruser.passwordCheck.length>0&&this.$refs.registerForm.validateField("passwordCheck"),""===this.ruser.passwordCheck&&this.$refs.registerForm.validateField("passwordCheck"),n())}.bind(this),t=function(e,t,n){""===this.ruser.password?this.$refs.registerForm.validateField("password"):""===t||t.length<=0?n(new Error("请再次输入密码")):this.ruser.password!==t?n(new Error("两次输入密码不一致")):n()}.bind(this);return{isLogin:!0,loginging:!1,rules:{name:[{required:!0,message:"用户名不能为空",trigger:"blur"}],password:[{required:!0,message:"密码名不能为空",trigger:"blur"}],passwordCheck:[{required:!0,message:"密码名不能为空",trigger:"blur"}],email:[{required:!0,message:"密码名不能为空",trigger:"blur"}]},resigsterRules:{name:[{required:!0,message:"用户名不能为空",trigger:"blur"}],password:[{validator:e,trigger:"blur"},{required:!0,message:"密码名不能为空",trigger:"blur"}],passwordCheck:[{validator:t,trigger:"blur"},{required:!0,message:"密码名不能为空",trigger:"blur"}],email:[{required:!0,message:"邮件不能为空",trigger:"blur"},{type:"email",message:"email",trigger:"blur"}]},user:{name:"",password:""},ruser:{name:"",password:"",passwordCheck:""}}},methods:Object($["a"])({},Object(L["b"])(["handleLogin"]),{gotoRegister:function(){this.isLogin=!this.isLogin},login:function(){var e=Object(U["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.loginging=!0,e.next=3,this.handleLogin(this.user).then(function(e){t.$Message.info({content:"登陆成功"}),t.$router.push("/home")}).catch(function(e){console.log(t),t.$Message.error({content:e.message})});case 3:this.loginging=!1;case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()})}),Oe=Me,je=Object(c["a"])(Oe,Se,Ie,!1,null,null,null);je.options.__file="loginForm.vue";var Pe=je.exports,Te=Pe,$e={name:"LoginView",components:{LoginForm:Te}},Le=$e,Ne=Object(c["a"])(Le,xe,De,!1,null,null,null);Ne.options.__file="loginView.vue";var Fe=Ne.exports,Re=Fe,Ee=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("error-content",{attrs:{code:"401",desc:"Oh~~您没有浏览这个页面的权限~",src:e.src}})},Ae=[],Ve=n("3026"),Be=n.n(Ve),ze=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"error-page"},[n("div",{staticClass:"content-con"},[n("img",{attrs:{src:e.src,alt:e.code}}),n("div",{staticClass:"text-con"},[n("h4",[e._v(e._s(e.code))]),n("h5",[e._v(e._s(e.desc))])]),n("back-btn-group",{staticClass:"back-btn-group"})],1)])},We=[],He=(n("2fb9"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Button",{attrs:{size:"large",type:"text"},on:{click:e.backHome}},[e._v("返回首页")]),n("Button",{attrs:{size:"large",type:"text"},on:{click:e.backPrev}},[e._v("返回上一页("+e._s(e.second)+"s)")])],1)}),Je=[],qe=(n("a481"),{name:"backBtnGroup",data:function(){return{second:5,timer:null}},methods:{backHome:function(){this.$router.replace({name:this.$config.homeName})},backPrev:function(){window.history.length>1?this.$router.go(-1):this.$router.push("/")}},mounted:function(){var e=this;this.timer=setInterval(function(){0===e.second?e.backPrev():e.second--},1e3)},beforeDestroy:function(){clearInterval(this.timer)}}),Ue=qe,Ge=Object(c["a"])(Ue,He,Je,!1,null,null,null);Ge.options.__file="back-btn-group.vue";var Ke=Ge.exports,Xe={name:"error_content",components:{backBtnGroup:Ke},props:{code:String,desc:String,src:String}},Ye=Xe,Qe=Object(c["a"])(Ye,ze,We,!1,null,null,null);Qe.options.__file="error-content.vue";var Ze=Qe.exports,et={name:"error_401",components:{errorContent:Ze},data:function(){return{src:Be.a}}},tt=et,nt=Object(c["a"])(tt,Ee,Ae,!1,null,null,null);nt.options.__file="401.vue";var at=nt.exports,ot=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("error-content",{attrs:{code:"404",desc:"Oh~~您的页面好像飞走了~",src:e.src}})},rt=[],st=n("c436"),it=n.n(st),lt={name:"error_404",components:{errorContent:Ze},data:function(){return{src:it.a}}},ct=lt,ut=Object(c["a"])(ct,ot,rt,!1,null,null,null);ut.options.__file="404.vue";var dt,pt=ut.exports,mt={template:'<div class="foo">foo</div>'},ft={template:'<div class="bar">bar</div>'},gt=[{path:"/login",name:"login",component:Re,meta:{title:"登录"}},{path:"/",name:"_home",component:H,redirect:"/home",children:[{path:"/home",name:"home",component:Ce,meta:{title:"首页"}},{path:"foo",component:mt},{path:"bar",component:ft}]},{path:"/401",name:"error_401",component:at},{path:"*",name:"error_404",meta:{hideInMenu:!0},component:pt}],ht={state:{}},vt=n("ade3"),bt=n("a78e"),_t=n.n(bt),wt=1,yt="token",kt=function(e){_t.a.set(yt,e,{expires:wt||1})},Ct=function(){var e=_t.a.get(yt);return!(!e||void 0===e)&&e},xt="userName",Dt="handleLogin",St="handleLogout",It={state:{userName:""},mutations:Object(vt["a"])({},xt,function(e,t){e.userName=t}),actions:(dt={},Object(vt["a"])(dt,Dt,function(e,t){var n=e.commit,a=t.name,o=t.password;return new Promise(function(e,t){setTimeout(function(){""!==a&&"123"===o?(n(xt,a),kt(a),e()):t(new Error("密码或账号错误"))},500)})}),Object(vt["a"])(dt,St,function(e){var t=e.commit;return new Promise(function(e,n){t(xt,""),kt(""),e()})}),dt)};o.a.use(L["a"]);var Mt=new L["a"].Store({state:{},mutations:{},actions:{},modules:{app:ht,user:It}}),Ot="login";o.a.use(p["a"]);var jt=new p["a"]({mode:"history",routes:gt});jt.beforeEach(function(e,t,n){f.a.start();var a=Ct();console.log(e),console.log("to:".concat(e.name," name:").concat(Mt.state.user.userName," token:").concat(a)),a||e.name===Ot?a||e.name!==Ot?a&&e.name===Ot?(console.log("正在跳转到home"),n({name:"home"})):a?n():n({name:"error_404",replace:!0}):(console.log("正在跳转到login"),n()):(console.log("没登录且不是登录页面 正在跳转到login"),n({name:Ot}))}),jt.afterEach(function(){console.log("跳转结束"),f.a.done()});var Pt=jt,Tt=(n("f751"),n("a925")),$t={"AP Set":"AP设置","Ap Password":"Wifi密码","Ap SSID":"Wifi名称",Channel:"通道","connect Interval":"连接间隔","Device Set":"设备设置","Device Type":"设备类型","Tranfer rate":"传输速率",WifiMode:"Wifi模式","Host Set":"主机设置","Host Name":"主机名",HostGateway:"主机网关",IP:"IP",Password:"密码","Subnet Mask":"子网掩码","Net Port":"网络端口","Control Port":"控制端口","Data Port":"数据端口","Monitor Port":"监控端口","Server Set":"服务设置",DNS:"DNS是否开启","Server IP":"服务器IP","Server URL":"服务器URL","COM Port":"COM Port",Baud:"波特率",Datas:"数据位",Parity:"检验位",Stop:"停止",Ethernet:"以太网",DHCP:"DHCP",Gateway:"网关","Port Number":"端口号",SubnetMask:"子网掩码",Timeout:"超时时间",Others:"其他","AD Value":"AD值","AD_Black Value":"黑标AD阈值","AD_Gap Value":"AD间隙值","AD_Lab Value":"AD_Lab值","ASCII Font":"ASCII字体","Auto PaperOut":"自动退纸","Auto calibration":"自动校准","Auto label":"自动标记","BMB FeedPos":"BMB FeedPos","Black Mark":"黑标","Code Page":"页码","Command Set":"指令设置","Cont_Paper Length":"标签纸长度","Cut Adjustment":"切纸调整",CutMode:"切纸方式",Cutter:"切刀","DA Value":"DA值","Gap Size":"空白尺寸","Label Length":"标签长度",Language:"打印机语言","Left Margin":"左边距","Page Length":"纸张长度","Page Mode":"页模式","Page Type":"打印纸类型","Paper Sensor":"纸感应器","Peel Option":"剥离器选项","Photo TRGain":"Photo TRGain","Print Darkness":"打印浓度","Print Media":"打印介质","Print Speed":"打印速度","Start Adjustment":"起始偏移量","Tear Adjustment":"撕纸位偏移量","Vertical Adjustment":"纵向偏移量","ZPL_Print Darkness":"ZPL打印浓度","WIFI.Generic.*":"Wifi通用信息","Device model":"设备型号","Serial Number":"序列号","Protocol Ver":"协议版本","Firmware Ver":"固件版本","Motherboard number":"主板号","MAC Address":"MAC地址",LogInfo:"登录信息",Type:"类型",Model:"型号",Number:"号码","Device.Generic.*":"设备通用信息","WIFI.Interface.*":"Wifi接口信息",Recvice:"接收缓存大小","Device.Interface.*":"设备接口信息",Compress:"压缩",Frame:"帧","Device.Page.*":"设备页信息",BMP_FMT:"位图格式",BPPS:"位图深度",DSBMP:"是否支持得实位图",Height:"高",Margin:"页边空白",Width:"宽",XDPI:"横向DPI",YDPI:"纵向DPI","WIFI.System State.*":"Wifi系统状态","Ctrl Port":"控制端口","Dev Stat":"设备状态",Error:"错误","Sys Mode":"系统模式","UDP Port":"UDP端口","Wifi Mode":"Wifi模式","Device.System State.*":"设备系统状态","Run State":"运行状态","Device.Data State.*":"设备数据状态","Error Code":"错误码","Frame Number":"帧编号","Job Number":"工作编号",Process:"已完成任务号","Device.Print State.*":"设备打印状态","Completed Frame Number ":"完成帧编号","Completed Job Number":"完成工作编号","Device Temperature":"设备温度","Number of Print":"输出任务数","Output State":"输出状态",Sensor0:"传感器0",Sensor1:"传感器1",Sensor2:"传感器2",Sensor3:"传感器3"},Lt={home:"首頁",components:"组件",count_to_page:"数字渐变",tables_page:"多功能表格",split_pane_page:"分割窗口",markdown_page:"Markdown編輯器",editor_page:"富文本編輯器",icons_page:"自定義圖標",img_cropper_page:"圖片編輯器",update:"上傳數據",join_page:"QQ群",doc:"文檔",update_table_page:"上傳CSV文件",update_paste_page:"粘貼表格數據",multilevel:"多级菜单",directive_page:"指令",level_1:"Level-1",level_2:"Level-2",level_2_1:"Level-2-1",level_2_3:"Level-2-3",level_2_2:"Level-2-2",level_2_2_1:"Level-2-2-1",excel:"Excel","upload-excel":"上傳excel","export-excel":"導出excel",tools_methods_page:"工具函數",drag_list_page:"拖拽列表",i18n_page:"多語言",modalTitle:"模態框題目",content:"這是模態框內容",buttonText:"顯示模態框","i18n-tip":"注：僅此頁做了多語言，其他頁面沒有在多語言包中添加語言內容",error_store_page:"錯誤收集",error_logger_page:"錯誤日誌",query:"帶參路由",params:"動態路由",cropper_page:"圖片裁剪",message_page:"消息中心",tree_table_page:"樹狀表格"},Nt={home:"Home",components:"Components",count_to_page:"Count-to",tables_page:"Table",split_pane_page:"Split-pane",markdown_page:"Markdown-editor",editor_page:"Rich-Text-Editor",icons_page:"Custom-icon",img_cropper_page:"Image-editor",update:"Update",doc:"Document",join_page:"QQ Group",update_table_page:"Update .CSV",update_paste_page:"Paste Table Data",multilevel:"multilevel",directive_page:"Directive",level_1:"Level-1",level_2:"Level-2",level_2_1:"Level-2-1",level_2_3:"Level-2-3",level_2_2:"Level-2-2",level_2_2_1:"Level-2-2-1",excel:"Excel","upload-excel":"Upload Excel","export-excel":"Export Excel",tools_methods_page:"Tools Methods",drag_list_page:"Drag-list",i18n_page:"Internationalization",modalTitle:"Modal Title",content:"This is the modal box content.",buttonText:"Show Modal","i18n-tip":"Note: Only this page is multi-language, other pages do not add language content to the multi-language package.",error_store_page:"Error Collection",error_logger_page:"Error Logger",query:"Query",params:"Params",cropper_page:"Cropper",message_page:"Message Center",tree_table_page:"Tree Table"},Ft=n("cea3"),Rt=n("641c"),Et=n("97b7");o.a.use(Tt["a"]);var At=navigator.language,Vt=("zh-CN"===At||"en-US"===At)&&At,Bt=Vt||"zh-CN";o.a.config.lang=Bt,o.a.locale=function(){};var zt={"zh-CN":Object.assign(Ft["a"],$t),"zh-TW":Object.assign(Et["a"],Lt),"en-US":Object.assign(Rt["a"],Nt)},Wt=new Tt["a"]({locale:Bt,messages:zt}),Ht=Wt,Jt=(n("a5d8"),n("e069")),qt=n.n(Jt),Ut=(n("dcad"),n("ca62"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Button",{attrs:{size:"small"},on:{click:e.click}},["Ready"==e.type||"Online"==e.type?n("span",{staticClass:"ivu-tag-success  ivu-tag-dot-inner"}):"Error"==e.type?n("span",{staticClass:"ivu-tag-error .ivu-tag-error.ivu-tag-dot .ivu-tag-dot-inner  ivu-tag-dot-inner"}):n("span",{staticClass:"ivu-tag-warning .ivu-tag-warning.ivu-tag-dot .ivu-tag-dot-inner  ivu-tag-dot-inner"}),e._v("\n  "+e._s(""==e.text?"未知":e.text)+"\n  "),e._t("default")],2)}),Gt=[],Kt=(n("9fae"),{name:"DotLink",props:["click","text","type"]}),Xt=Kt,Yt=Object(c["a"])(Xt,Ut,Gt,!1,null,null,null);Yt.options.__file="dotLink.vue";var Qt=Yt.exports,Zt=Qt,en=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h3",[e._v(e._s(e.tt(e.title)))]),e._l(e.items,function(t,a){var o=t.title,r=t.content,s=t.datas;return n("div",{key:a,staticClass:"nodeleaf"},[s?n("h4",[e._v(e._s(e.tt(o)))]):e._e(),s?n("div",{staticClass:"nodeleaf"},e._l(s,function(t,a){return n("p",{key:a},[n("span",{staticClass:"leafTitle"},[e._v(e._s(e.tt(t.title)))]),e._v(" : "),n("span",{staticClass:"leafContent"},[e._v(e._s(t.content))])])})):n("p",{staticClass:"nodeleaf"},[n("span",{staticClass:"leafTitle"},[e._v(e._s(e.tt(o)))]),e._v(" : "),n("span",{staticClass:"leafContent"},[e._v(e._s(r))])])])})],2)},tn=[],nn=(n("fe0c"),{name:"NodeView",props:{node:Object},data:function(){return{items:[],title:""}},watch:{node:function(){this.nodesInit()}},mounted:function(){this.nodesInit()},methods:{nodesInit:function(){this.node&&(this.title=this.node.name,this.items=this.node.nodes.filter(function(e){return"SEP"!==e.name}).map(function(e){return{title:e.name,content:e.value,datas:"multiString"===e.dataType?e.value.split(";").map(function(e){var t=e.split("=");return{title:t[0],content:t[1]}}):null}}))},tt:function(e){return void 0!==this.$t?this.$t(e):e}}}),an=nn,on=(n("cfef"),Object(c["a"])(an,en,tn,!1,null,"44b479ba",null));on.options.__file="nodeView.vue";var rn=on.exports,sn=rn,ln=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Modal",{on:{"on-cancel":e.actionCancel},model:{value:e.toShow,callback:function(t){e.toShow=t},expression:"toShow"}},[n("div",{attrs:{slot:"header"},slot:"header"},[n("div",[n("Tag",{attrs:{type:"border"}},[e._v("设备编码:"),n("span",[e._v(e._s(e.number))])])],1),n("Row",{staticStyle:{padding:"15px 0 5px 0px"},attrs:{justify:"center",align:"middle"}},[n("Col",{staticClass:"col",attrs:{span:"12"}},[n("Button",{staticClass:"btn",attrs:{type:e.wod?"primary":"text"},on:{click:function(t){e.changeClick("WIFI")}}},[e._v("WIFI")])],1),n("Col",{staticClass:"col",attrs:{span:"12"}},[n("Button",{staticClass:"btn",attrs:{type:0==e.wod?"primary":"text"},on:{click:function(t){e.changeClick("DEVICE")}}},[e._v("DEVICE")])],1)],1)],1),null!=e.nodes?n("div",[n("Collapse",{attrs:{simple:"",accordion:""},model:{value:e.collapse,callback:function(t){e.collapse=t},expression:"collapse"}},e._l(e.nodes.items,function(t,a){return n("Panel",{key:t.name,attrs:{name:String(a)}},[e._v("\n        "+e._s(e.$t(t.name))+"\n        "),t.items?n("Form",{attrs:{slot:"content","label-width":120},slot:"content"},e._l(t.items,function(t){return n("FormItem",{key:t.name,staticClass:"leaf",attrs:{label:e.$t(t.name)}},["string"==t.dataType?n("Input",{attrs:{placeholder:""},model:{value:t.value,callback:function(n){e.$set(t,"value",n)},expression:"subItem.value"}}):"value"==t.dataType?n("Input",{attrs:{placeholder:""},model:{value:t.value,callback:function(n){e.$set(t,"value",n)},expression:"subItem.value"}}):"data"==t.dataType?n("Input",{attrs:{placeholder:""},model:{value:t.value,callback:function(n){e.$set(t,"value",n)},expression:"subItem.value"}}):"list"==t.dataType?n("Select",{model:{value:t.value,callback:function(n){e.$set(t,"value",n)},expression:"subItem.value"}},e._l(t.list,function(t){return n("Option",{key:t.index,attrs:{value:t.index}},[e._v(e._s(t.label))])})):e._e()],1)})):e._e()],1)}))],1):n("p",[e._v("获取失败")]),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("Button",{attrs:{type:"text"},on:{click:e.actionCancel}},[e._v("取消")]),n("Button",{attrs:{type:"primary"},on:{click:e.actionOK}},[e._v("设置")])],1),e.isLoading?n("Spin",{attrs:{size:"large",fix:""}}):e._e()],1)},cn=[],un=n("b1f8");n("cafa");function dn(e,t){return(Array(t).join("0")+e).slice(-t)}String.prototype.StrCut2Arr=function(e){for(var t=this,n=[],a=Math.ceil(t.length/e),o=0;o<a;o++)if(t.length>=e){var r=t.substring(0,e);n.push(r),t=t.substring(e)}else n.push(t);return n};var pn={name:"ConfigView",props:{json:Object,show:Boolean,isLoading:Boolean,number:String},methods:{actionOK:function(){var e=Object(U["a"])(regeneratorRuntime.mark(function e(){var t,n,a,o=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.$emit("action","ok",!0),console.info(this.nodes),n="",this.nodes&&this.nodes.items.length){e.next=7;break}return this.$Message.error({content:"数据为空,不能设置"}),this.$emit("action","ok",!1),e.abrupt("return");case 7:return n+="Cfg Packet=".concat(this.nodes["Cfg Packet"],";DevID=").concat(this.nodes["DevID"],";"),this.nodes.items.forEach(function(e){if("node"===e.type)for(var t=e.name,a=0;a<e.items.length;a++){var o=e.items[a],r="Others"===t?o.name:t+"."+o.name,s=o.value;"data"===o.dataType&&(s="",o.value.split(".").forEach(function(e){var t=parseInt(e,10).toString(16);t=dn(t,2),s+=t})),n+="".concat(r,"=").concat(s,";")}else{var i=e.value;"data"===e.dataType&&(Object(un["a"])("value"),i="",e.value.split(".").forEach(function(e){var t=parseInt(e,10).toString(16);t=dn(t,2),i+=(Object(un["a"])("value"),t)})),n+="".concat(e.name,"=").concat(i)}}),t={dataFmt:"text",datas:n,devType:this.wod?"wifi":"device",encodeType:"string",imgH:-1},Object(vt["a"])(t,"imgH",-1),Object(vt["a"])(t,"jobType","config"),Object(vt["a"])(t,"number",this.number),Object(vt["a"])(t,"orgX",0),Object(vt["a"])(t,"orgY",0),a=t,console.log(a),e.next=13,re(a).then(function(e){console.log("set config success"),o.$Message.info({content:"设置成功"})}).catch(function(e){console.log("set config fail"),o.$Message.error({content:"设置失败,错误:".concat(e)})});case 13:this.$emit("action","ok",!1);case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),actionCancel:function(){this.$emit("action","cancel"),this.wod=!0},changeClick:function(e){this.$emit("get-config",e),this.wod="WIFI"===e},getItems:function(e,t){var n={};if("object"===Object(pe["a"])(t[e])){if(n.name=e,t[e]["DataType"]){var a=t[e],o=a["DataType"];n.type="leaf",n.dataType=o,n.value=a["NodeVal"],"list"===o?(n.value=parseInt(n.value),n.list=a["ListVal"].split(";").map(function(e,t){return{index:t,label:e}})):"data"===o&&(n.value=n.value.StrCut2Arr(2).map(function(e){return parseInt(e,16)}).join("."))}else for(var r in n.items=[],n.type="node",t[e])n.items.push(this.getItems(r,t[e]));return n}}},computed:{toShow:{set:function(e){console.log(this.show)},get:function(){return this.show}},nodes:{set:function(e){console.log(e),this.collapse="0"},get:function(){if(this.json){var e={items:[]};for(var t in this.json["Edit Items"])"DevID"===t?(e["DevID"]=this.json["Edit Items"][t],e["Cfg Packet"]=this.json["Cfg Packet"].NodeVal):e.items.push(this.getItems(t,this.json["Edit Items"]));var n=e.items.filter(function(e){return!e.items});if(e.items=e.items.filter(function(e){return e.items&&e.items.length>0}),n.length){var a={name:"Others"};a.items=n,a.type="node",e.items.push(a)}return e}return null}}},data:function(){return{op:0,wod:!0,collapse:"0"}}},mn=pn,fn=Object(c["a"])(mn,ln,cn,!1,null,null,null);fn.options.__file="configView.vue";var gn=fn.exports,hn=gn,vn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Modal",{on:{"on-cancel":e.actionCancel},model:{value:e.toShow,callback:function(t){e.toShow=t},expression:"toShow"}},[n("div",{attrs:{slot:"header"},slot:"header"},[n("Tag",{attrs:{type:"border"}},[e._v("设备编码:"),n("span",[e._v(e._s(e.number))])])],1),n("Row",{staticStyle:{display:"table"}},[n("RadioGroup",{staticStyle:{"padding-left":"10px",display:"table-cell","vertical-align":"middle"},model:{value:e.printType,callback:function(t){e.printType=t},expression:"printType"}},[n("span",[e._v("打印类型 : ")]),n("Radio",{attrs:{label:"图片"}}),n("Radio",{attrs:{label:"文本"}}),n("Radio",{attrs:{label:"16进制指令"}})],1)],1),"图片"===e.printType?n("Row",[n("Divider",{attrs:{dashed:""}}),n("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"btn_file"},on:{change:e.getFile}}),n("Button",{attrs:{type:"primary"},on:{click:e.F_Open_dialog}},[e._v("选择图片")]),""!==e.imageSource?n("Card",{staticStyle:{"margin-top":"10px"},attrs:{"dis-hover":!0}},[n("div",{staticStyle:{"text-align":"center"}},[n("img",{staticStyle:{width:"98%"},attrs:{src:e.imageSource,alt:""}}),n("h3",[e._v(e._s(e.imageName))])])]):e._e()],1):n("Row",[n("Form",{attrs:{"label-width":40}},[n("Divider",{attrs:{dashed:""}}),n("FormItem",{staticClass:"formitemMargin",attrs:{label:"内容"}},[n("Input",{model:{value:e.sendData.content,callback:function(t){e.$set(e.sendData,"content",t)},expression:"sendData.content"}})],1)],1)],1),n("Form",{attrs:{inline:"","label-width":90}},["图片"===e.printType?n("Row",[n("Divider",{attrs:{dashed:""}}),n("Col",{attrs:{span:"12"}},[n("FormItem",{attrs:{label:"图片输出宽度"}},[n("Input",{model:{value:e.sendData.imgW,callback:function(t){e.$set(e.sendData,"imgW",t)},expression:"sendData.imgW"}})],1)],1),n("Col",{attrs:{span:"12"}},[n("FormItem",{attrs:{label:"图片输出高度"}},[n("Input",{model:{value:e.sendData.imgH,callback:function(t){e.$set(e.sendData,"imgH",t)},expression:"sendData.imgH"}})],1)],1)],1):e._e(),"图片"===e.printType?n("Row",[n("Col",{attrs:{span:"12"}},[n("FormItem",{staticClass:"formitemMargin",attrs:{label:"图片X坐标"}},[n("Input",{model:{value:e.sendData.orgX,callback:function(t){e.$set(e.sendData,"orgX",t)},expression:"sendData.orgX"}})],1)],1),n("Col",{attrs:{span:"12"}},[n("FormItem",{staticClass:"formitemMargin",attrs:{label:"图片Y坐标"}},[n("Input",{model:{value:e.sendData.orgY,callback:function(t){e.$set(e.sendData,"orgY",t)},expression:"sendData.orgY"}})],1)],1)],1):e._e(),n("Row",[n("Divider",{attrs:{dashed:""}}),n("Col",{attrs:{span:"12"}},[n("FormItem",{staticClass:"formitemMargin",staticStyle:{width:"95%"},attrs:{label:"数据类型"}},[n("Select",{model:{value:e.sendData.dataFmt,callback:function(t){e.$set(e.sendData,"dataFmt",t)},expression:"sendData.dataFmt"}},[n("Option",{attrs:{value:"img"}},[e._v("img")]),n("Option",{attrs:{value:"text"}},[e._v("text")]),n("Option",{attrs:{value:"dat"}},[e._v("dat")])],1)],1)],1),n("Col",{attrs:{span:"12"}},[n("FormItem",{staticClass:"formitemMargin",staticStyle:{width:"95%"},attrs:{label:"数据内容编码"}},[n("Select",{model:{value:e.sendData.encodeType,callback:function(t){e.$set(e.sendData,"encodeType",t)},expression:"sendData.encodeType"}},[n("Option",{attrs:{value:"string"}},[e._v("string")]),n("Option",{attrs:{value:"base64"}},[e._v("base64")]),n("Option",{attrs:{value:"hex"}},[e._v("hex")]),n("Option",{attrs:{value:"json"}},[e._v("json")])],1)],1)],1)],1),n("Row",[n("Divider",{attrs:{dashed:""}}),n("Col",{attrs:{span:"12"}},[n("FormItem",{staticClass:"formitemMargin",staticStyle:{width:"95%"},attrs:{label:"作业数据类型"}},[n("Select",{model:{value:e.sendData.jobType,callback:function(t){e.$set(e.sendData,"jobType",t)},expression:"sendData.jobType"}},[n("Option",{attrs:{value:"print"}},[e._v("print")]),n("Option",{attrs:{value:"control"}},[e._v("control")]),n("Option",{attrs:{value:"config"}},[e._v("config")]),n("Option",{attrs:{value:"DFU"}},[e._v("DFU")])],1)],1)],1),n("Col",{attrs:{span:"12"}},[n("FormItem",{staticClass:"formitemMargin",staticStyle:{width:"95%"},attrs:{label:"目标设备"}},[n("Select",{model:{value:e.sendData.devType,callback:function(t){e.$set(e.sendData,"devType",t)},expression:"sendData.devType"}},[n("Option",{attrs:{value:"wifi"}},[e._v("wifi")]),n("Option",{attrs:{value:"device"}},[e._v("device")])],1)],1)],1)],1)],1),e.msg?n("Row",[n("Divider",{attrs:{dashed:""}}),n("h5",[e._v("信息:")]),n("p",{staticStyle:{display:"block","word-break":"break-all","word-wrap":"break-word"}},[e._v(e._s(JSON.stringify(e.msg)))])],1):e._e(),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("Button",{attrs:{type:"text"},on:{click:e.actionCancel}},[e._v("取消")]),n("Button",{attrs:{type:"primary"},on:{click:e.actionOK}},[e._v("发送")])],1),e.isLoading?n("Spin",{attrs:{size:"large",fix:""}}):e._e()],1)},bn=[],_n=(n("6078"),n("27ae")),wn={name:"PrintView",props:{json:Object,show:Boolean,number:String},computed:{toShow:{set:function(e){console.log(this.show)},get:function(){return this.show}},data:{set:function(e){console.log(e)},get:function(){if(this.json){var e={},t=[];return e.items=t,e}return null}}},watch:{show:function(){this.msg=this.imageName=this.imageSource=""}},data:function(){return{op:0,wod:!0,printType:"图片",content:"10170000",sendData:{dataFmt:"dat",devType:"wifi",encodeType:"hex",jobType:"control",content:"10170000"},imageSource:"",imageName:"",isLoading:!1,msg:""}},methods:{actionOK:function(){var e=Object(U["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return console.log(this.printType),this.isLoading=!0,this.msg="","图片"===this.printType?this.sendData.datas=this.imageSource:"base64"===this.sendData.encodeType?(console.log(this.sendData.content),this.sendData.datas=_n["Base64"].encode(this.sendData.content),console.log(this.sendData.datas)):this.sendData.datas=this.sendData.content,this.sendData.number=this.number,console.log(JSON.stringify(this.sendData)),this.$emit("action","ok"),this.showPrint=!0,e.next=10,re(this.sendData).then(function(e){t.msg=e.data}).catch(function(e){console.log(e),t.$Message.error({content:"错误 : ".concat(e)})});case 10:this.isLoading=!1;case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),actionCancel:function(){this.$emit("action","cancel")},changeClick:function(e){this.$emit("get-config",e),this.wod="WIFI"===e},getFile:function(e){var t=e.target.files[0];if(!t)return this.imageName=this.imageSource="",void console.log("取消");var n=/image\/\w+/.test(t.type);if(!n)return this.$Message.error({content:"只能选择图片"}),void(this.imageName=this.imageSource="");console.log("文件名:".concat(t.name," 大小:").concat(t.size," 类型:").concat(t.type," path:").concat(e.target.value)),this.imageName=t.name;var a=new FileReader;a.readAsDataURL(t),a.onload=function(e){console.log(e.target.result),this.imageSource=e.target.result}.bind(this)},F_Open_dialog:function(){document.getElementById("btn_file").click()}}},yn=wn,kn=Object(c["a"])(yn,vn,bn,!1,null,null,null);kn.options.__file="printView.vue";var Cn=kn.exports,xn=Cn,Dn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Row",[n("Col",{attrs:{span:"8"}},e._l(e.datas,function(e,t){return n("div",{key:t},[n("node-view",{attrs:{node:e}})],1)})),n("Col",{attrs:{span:"8"}},e._l(e.detail,function(e,t){return n("div",{key:t},[n("node-view",{attrs:{node:e}})],1)})),n("Col",{attrs:{span:"8"}},e._l(e.states,function(e,t){return n("div",{key:t},[n("node-view",{attrs:{node:e}})],1)})),e.isLoading?n("Spin",{attrs:{size:"large",fix:""}}):e._e()],1)],1)},Sn=[],In=(n("5df3"),{components:{nodeView:sn},name:"MoreInfoRow",props:{number:String,row:Object},mounted:function(){this.fetchInfo()},methods:{fetchInfo:function(){var e=Object(U["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.isLoading=!0,Promise.all([ce(this.row.Number,0),ce(this.row.Number,1),ce(this.row.Number,2)]).then(function(e){console.log(e);var n=me(e[0].data);t.datas=n,n=me(e[1].data),t.detail=n,n=me(e[2].data),t.states=n}).catch(function(e){console.log(e),t.$Message.error({content:"错误 : ".concat(e)})}),setTimeout(function(){t.isLoading=!1},200);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},data:function(){return{datas:{},states:{},detail:{},isLoading:!0}}}),Mn=In,On=Object(c["a"])(Mn,Dn,Sn,!1,null,null,null);On.options.__file="moreInfoRow.vue";var jn=On.exports,Pn=jn,Tn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Modal",{staticClass:"modal",on:{"on-cancel":e.actionCancel,"on-ok":e.actionOK},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[n("div",{attrs:{slot:"header"},slot:"header"},[n("Tag",{staticClass:"title",attrs:{type:"border"}},[e._v("设备编码:"),n("span",[e._v(e._s(e.number))])])],1),e._l(e.nodes,function(e,t){return n("node-view",{key:t,attrs:{node:e}})}),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("Button",{attrs:{type:"primary"},on:{click:function(t){e.$emit("action","ok")}}},[e._v("确定")])],1)],2)},$n=[],Ln=(n("c077"),{name:"NodeViewModal",props:{nodes:Array,toShow:Boolean,number:String},computed:{show:{set:function(){},get:function(){return this.toShow}}},methods:{actionOK:function(){this.$emit("action","ok")},actionCancel:function(){this.$emit("action","cancel")}}}),Nn=Ln,Fn=Object(c["a"])(Nn,Tn,$n,!1,null,null,null);Fn.options.__file="nodeViewModal.vue";var Rn=Fn.exports,En=Rn;o.a.config.productionTip=!1,o.a.component("dot-link",Zt),o.a.component("node-view",sn),o.a.component("config-view",hn),o.a.component("print-view",xn),o.a.component("more-info-row",Pn),o.a.component("node-view-modal",En),o.a.use(qt.a),o.a.use(qt.a,{i18n:function(e,t){return Ht.t(e,t)}});t["default"]=new o.a({el:"#app",router:Pt,i18n:Ht,store:Mt,components:{App:d},template:"<App/>"})},6078:function(e,t,n){},"64a9":function(e,t,n){},6568:function(e,t,n){},"6d5f":function(e,t,n){},9743:function(e,t,n){e.exports=n.p+"img/DSLogo.ca341e4f.png"},"9fae":function(e,t,n){},afa1:function(e,t,n){},c077:function(e,t,n){},c436:function(e,t,n){e.exports=n.p+"img/error-404.94756dcf.svg"},ca62:function(e,t,n){},cafa:function(e,t,n){},cfef:function(e,t,n){"use strict";var a=n("e5e4"),o=n.n(a);o.a},e5e4:function(e,t,n){},effb:function(e,t,n){},f941:function(e,t,n){},fe0c:function(e,t,n){}});
//# sourceMappingURL=app.d2f3598a.js.map